if(!require(pacman)) install.packages("pacman")
pacman::p_load(tidyverse, gapminder,
bslib, bsicons, shiny)
gap_07 <- gapminder %>%
dplyr::filter(year == 2007)
gap_07 <- gapminder %>%
dplyr::filter(year == 2007)
highest_life_exp_country <- gap_07 %>%
dplyr::arrange(-lifeExp) %>%
head(1) %>%
pull(country)
highest_life_exp_country
gap_07 <- gapminder %>%
dplyr::filter(year == 2007)
highest_life_exp_country <- gap_07 %>%
dplyr::arrange(-lifeExp) %>%
head(1) %>%
pull(country)
highest_life_exp_num <- gap_07 %>%
dplyr::arrange(-lifeExp) %>%
head(1) %>%
pull(round(lifeExp, 1)
gap_07 <- gapminder %>%
dplyr::filter(year == 2007)
highest_life_exp_country <- gap_07 %>%
dplyr::arrange(-lifeExp) %>%
head(1) %>%
pull(country)
highest_life_exp_num <- gap_07 %>%
dplyr::arrange(-lifeExp) %>%
head(1) %>%
pull(lifeExp) %>%
round(1)
?value_box
?bsicons
gap_07 <- gapminder %>%
dplyr::filter(year == 2007)
highest_life_exp_country <- gap_07 %>%
dplyr::arrange(-lifeExp) %>%
head(1) %>%
pull(country)
highest_life_exp_num <- gap_07 %>%
dplyr::arrange(-lifeExp) %>%
head(1) %>%
pull(lifeExp) %>%
round(1)
lowest_life_exp_country <- gap_07 %>%
dplyr::arrange(lifeExp) %>%
head(1) %>%
pull(country)
loweest_life_exp_num <- gap_07 %>%
dplyr::arrange(lifeExp) %>%
head(1) %>%
pull(lifeExp) %>%
round(1)
value_box(
title = "Lowest life Expectancy",
value = lowest_life_exp_num,
p(paste0( "(", lowest_life_exp_country, ")")),
showcase = bsicons::bs_icon("heart"),
theme = value_box_theme(bg = "#214773")
)
gap_07 %>%
summarise(weighted.mean(sum(lifeExp * pop)/sum(pop)))
if(!require(pacman)) install.packages("pacman")
pacman::p_load(tidyverse, gapminder,
bslib, bsicons, shiny,
rnaturalhearth, plotly)
country_shapes <- rnaturalearth::ne_countries()
country_shapes <- rnaturalearth::ne_countries()
ggplot()+
geom_sf(country_shapes)
View(country_shapes)
country_shapes <- rnaturalearth::ne_countries()
ggplot(country_shapes)+
geom_sf()
if(!require(pacman)) install.packages("pacman")
pacman::p_load(tidyverse, gapminder,
bslib, bsicons, shiny,
rnaturalhearth, plotly,
countrycode)
country_shapes <- rnaturalearth::ne_countries()
ggplot(country_shapes)+
geom_sf()
gap_07 %>%
mutate(country_code = countrycode(country, "country.name", "iso3c"))
country_shapes <- rnaturalearth::ne_countries()
ggplot(country_shapes)+
geom_sf()
gap_07 <- gap_07 %>%
mutate(country_code = countrycode(country,
"country.name",
"iso3c"))
setdiff(gap_07$country_code, country_shapes$adm0_a3)
left_join(country_shapes, gap_07,
by = c("adm0_a3" = "country_name")) %>%
ggplot()+
geom_sf(aes(fill = lifeExp))
left_join(country_shapes, gap_07,
by = c("adm0_a3" = "country_code")) %>%
ggplot()+
geom_sf(aes(fill = lifeExp))
gap_map <- left_join(country_shapes, gap_07,
by = c("adm0_a3" = "country_code")) %>%
mutate(tooltip_lable = paste(country,
round(lifeExp, 1),
sep = ": ")) %>%
ggplot()+
geom_sf(aes(fill = lifeExp, text = tooltip_label))+
theme_void()+
theme(legend.position = "none")
ggplotly(gap_map)
ggplotly(gap_map, tooltip_label = "text")
gap_map <- left_join(country_shapes, gap_07,
by = c("adm0_a3" = "country_code")) %>%
mutate(tooltip_label = paste(country,
round(lifeExp, 1),
sep = ": ")) %>%
ggplot()+
geom_sf(aes(fill = lifeExp, text = tooltip_label))+
theme_void()+
theme(legend.position = "none")
ggplotly(gap_map, tooltip_label = "text")
ggplotly(gap_map, tooltip = "text")
gap_map_ggplotly <- ggplotly(gap_map, tooltip = "text")
if(!require(pacman)) install.packages("pacman")
pacman::p_load(tidyverse, gapminder,
bslib, bsicons, shiny,
rnaturalhearth, plotly,
countrycode,
htmltools)
if(!require(pacman)) install.packages("pacman")
pacman::p_load(tidyverse, gapminder,
bslib, bsicons, shiny,
rnaturalhearth, plotly,
countrycode,
htmltools, reactable)
